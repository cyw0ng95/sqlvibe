# SQL:1999 Feature Requirements

This document tracks SQL:1999 features to implement in sqlvibe, linked to versions in `ROADMAP.md`.

Based on SQL:1999 (ISO/IEC 9075:1999) test plan in `SQL1999_TEST_PLAN.md`.

---

## v0.1.x ✅ Complete (Already Done)

### Part I: Data Types
| Chapter | Feature | Status |
|---------|---------|--------|
| Ch3 | Numbers (INTEGER, SMALLINT, BIGINT, DECIMAL, FLOAT, REAL) | ✅ Done |

### Part II: Schema Objects
| Chapter | Feature | Status |
|---------|---------|--------|
| Ch18 | Tables & Views (CREATE TABLE, DROP TABLE) | ✅ Done |
| Ch20 | Constraints (PRIMARY KEY, FOREIGN KEY, UNIQUE, CHECK, NOT NULL) | ✅ Done |

### Part III: Query Operations
| Chapter | Feature | Status |
|---------|---------|--------|
| Ch28 | SELECT fundamentals | ✅ Done |
| Ch29 | Search Conditions (=, <>, <, >, <=, >=) | ✅ Done |
| Ch33 | Groups (GROUP BY, HAVING, aggregates) | ✅ Done |
| Ch34 | Sorting (ORDER BY, ASC/DESC) | ✅ Done |

### Part IV: Data Modification
| Chapter | Feature | Status |
|---------|---------|--------|
| Ch35 | INSERT, UPDATE, DELETE, MERGE | ✅ Done |

### Part V: Transactions
| Chapter | Feature | Status |
|---------|---------|--------|
| Ch36 | BEGIN, COMMIT, ROLLBACK, auto-commit | ✅ Done |

---

## v0.2.x Requirements

### Part III: Query Operations
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch29 | AND, OR, NOT | ✅ Done | |
| Ch29 | LIKE | ✅ Done | |
| Ch29 | IN | ✅ Done | |
| Ch29 | BETWEEN | ✅ Done | |
| Ch29 | IS NULL / IS NOT NULL | ✅ Done | |

---

## v0.3.x Requirements

### Part III: Query Operations
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch30 | INNER JOIN | ⏳ Pending | |
| Ch30 | LEFT/RIGHT OUTER JOIN | ⏳ Pending | |
| Ch30 | CROSS JOIN | ⏳ Pending | |
| Ch30 | NATURAL JOIN | ⏳ Pending | |

---

## v0.4.x Requirements

### Part III: Query Operations
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch31 | Scalar subquery | ⏳ Pending | `SELECT (SELECT ...)` |
| Ch31 | EXISTS subquery | ⏳ Pending | `WHERE EXISTS (SELECT ...)` |
| Ch31 | IN subquery | ⏳ Pending | `WHERE a IN (SELECT ...)` |
| Ch31 | ALL/ANY subquery | ⏳ Pending | `> ALL (...)`, `< ANY (...)` |
| Ch31 | Correlated subquery | ⏳ Pending | Subquery references outer table |

---

## v1.0.x Requirements

### Part I: Data Types (Remaining)
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch4 | Bit Strings (BIT, BIT VARYING) | ⏳ Pending | |
| Ch5 | Binary Strings (BINARY, VARBINARY, BLOB) | ⏳ Pending | |
| Ch6-7 | Character Strings (CHAR, VARCHAR, TEXT, CLOB) | ⏳ Pending | |
| Ch8 | Temporal Values (DATE, TIME, TIMESTAMP) | ⏳ Pending | Partial in v0.1 |
| Ch9 | Boolean Values (BOOLEAN) | ⏳ Pending | |
| Ch10 | Collection Types (ARRAY, MULTISET) | ⏳ Pending | |
| Ch11 | Row Types (ROW) | ⏳ Pending | |

### Part II: Schema Objects (Remaining)
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch17 | CREATE SCHEMA, DROP SCHEMA | ⏳ Pending | |
| Ch19 | CREATE DOMAIN, DROP DOMAIN | ⏳ Pending | |
| Ch21 | CREATE CHARACTER SET | ⏳ Pending | |
| Ch22 | CREATE COLLATION | ⏳ Pending | |
| Ch24 | Triggers (CREATE TRIGGER) | ⏳ Pending | |
| Ch25-26 | Stored Procedures, Functions | ⏳ Pending | |
| Ch27 | User-defined Types (CREATE TYPE) | ⏳ Pending | |

### Part III: Query Operations (Remaining)
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch32 | UNION, INTERSECT, EXCEPT | ⏳ Pending | Set operators |

### Part V: Transactions
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch37 | Concurrency, Isolation Levels | ⏳ Pending | |

### Part VI: Sessions & Security
| Chapter | Feature | Status | Notes |
|---------|---------|--------|-------|
| Ch15 | GRANT, REVOKE, roles | ⏳ Pending | |
| Ch38 | SET, session variables | ⏳ Pending | |

---

## Test Commands

```bash
# Run SQL:1999 tests by chapter
go test -run TestCh3 ./pkg/sqlvibe    # Numbers
go test -run TestCh29 ./pkg/sqlvibe   # Search Conditions

# Run specific feature tests
go test -run TestQueryJoins ./pkg/sqlvibe
go test -run TestQuerySubqueries ./pkg/sqlvibe
```

---

## Reference

- SQL:1999 (ISO/IEC 9075:1999)
- SQL-99 Complete, Really: https://sql-99.readthedocs.io/
- SQLite Compatibility: Target is SQLite-compatible output, not full SQL:1999 compliance
